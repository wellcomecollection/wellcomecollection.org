import styled from 'styled-components';

import { PaletteColor } from '@weco/common/views/themes/config';

export type Props = {
  color: PaletteColor;
};

const EDGE_CLIP_PATH =
  'polygon(76.514% 0.912%,76.514% 0.912%,76.883% 0.517%,77.213% 0.19%,77.504% 0.012%,77.757% 0.064%,77.97% 0.424%,78.144% 1.175%,78.28% 2.395%,78.377% 4.165%,78.435% 6.566%,78.454% 9.677%,78.454% 9.677%,78.454% 13.304%,78.454% 15.949%,78.454% 17.802%,78.453% 19.057%,78.453% 19.907%,78.453% 20.545%,78.453% 21.162%,78.453% 21.953%,78.453% 23.108%,78.454% 24.823%,78.454% 24.823%,78.455% 27.182%,78.455% 30.045%,78.454% 33.258%,78.454% 36.67%,78.453% 40.127%,78.452% 43.478%,78.452% 46.57%,78.452% 49.251%,78.453% 51.369%,78.454% 52.771%,78.454% 52.771%,78.462% 53.695%,78.48% 54.484%,78.51% 55.144%,78.554% 55.679%,78.611% 56.093%,78.683% 56.391%,78.771% 56.578%,78.876% 56.659%,78.999% 56.638%,79.141% 56.521%,96.467% 42.109%,96.467% 42.109%,96.954% 42.05%,97.373% 42.693%,97.731% 43.962%,98.033% 45.78%,98.287% 48.07%,98.498% 50.755%,98.672% 53.756%,98.816% 56.998%,98.936% 60.404%,99.038% 63.895%,99.038% 63.895%,99.142% 67.748%,99.26% 72.141%,99.386% 76.851%,99.514% 81.656%,99.638% 86.333%,99.753% 90.659%,99.852% 94.412%,99.93% 97.368%,99.982% 99.305%,100% 100%,0% 100%,0% 81.358%,0% 81.358%,0.011% 79.922%,0.043% 78.552%,0.094% 77.263%,0.163% 76.073%,0.249% 74.998%,0.349% 74.056%,0.462% 73.264%,0.587% 72.637%,0.722% 72.194%,0.865% 71.951%,0.865% 71.951%,7.906% 65.368%,14.947% 58.787%,21.988% 52.209%,29.029% 45.631%,36.07% 39.054%,43.111% 32.477%,50.152% 25.899%,57.193% 19.319%,64.234% 12.737%,71.274% 6.153%,71.274% 6.153%,71.892% 5.569%,72.494% 4.988%,73.079% 4.415%,73.645% 3.853%,74.189% 3.305%,74.71% 2.775%,75.204% 2.267%,75.671% 1.785%,76.109% 1.332%,76.514% 0.912%)';

export const Edge = styled.div<{
  $color: PaletteColor;
}>`
  height: 10vw;
  margin-top: -10vw;
  position: relative;
  top: 2px;
  z-index: 2;

  ${props =>
    props.theme.media('large')`
    height: 125px;
    margin-top: -125px;
  `}

  @supports ((clip-path: polygon(0 0)) or (-webkit-clip-path: polygon(0 0))) {
    display: block;
    clip-path: ${EDGE_CLIP_PATH};
  }

  background: ${props => props.theme.color(props.$color)};
`;

const WEdge = ({ color }: Props) => {
  return <Edge $color={color} />;
};

export default WEdge;
