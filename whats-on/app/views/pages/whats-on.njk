{% extends 'layout/default.njk' %}

{% block pageMeta %}

{% endblock %}

{% block body %}
  {# {{exhibitionAndEventPromos.dates | dump}} #}
  {% set todayDateString = exhibitionAndEventPromos.dates.today + '|' + exhibitionAndEventPromos.dates.today %}
  {% set weekendDateString = exhibitionAndEventPromos.dates.weekend[0] + '|' + exhibitionAndEventPromos.dates.weekend[1] %}
  {% set whatsOnModel = [
    {id: 'today', title: 'Today', url: '/whats-on/?' + 'f[dates]' | urlencode + '=' + todayDateString | urlencode },
    {id: 'weekend', title: 'This weekend', url: '/whats-on/?' + 'f[dates]' | urlencode + '=' + weekendDateString | urlencode },
    {id: 'everything', title: 'Everything', url: '/whats-on'}
  ] %}

  {# TODO - how to determine this #}
  {% set whatsOnData = {activeId: 'weekend'} %}

  {% componentV2 'whats-on-list-header', whatsOnModel, {}, whatsOnData %}

  <div class="css-grid__container">
    <div class="css-grid">
     {% for exhibition in exhibitionAndEventPromos.temporaryExhibitionPromos %}
        <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">
          {% componentV2 'exhibition-promo', exhibition %}
        </div>
      {% endfor %}
      {% for event in exhibitionAndEventPromos.eventPromos %}
        <div class="{{ {s: 12, m: 6, l: 3, xl:3} | cssGridClasses }}">
          {% componentV2 'event-promo', event %}
        </div>
      {% endfor %}
     {% for exhibition in exhibitionAndEventPromos.permanentExhibitionPromos %}
        <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">
          {% componentV2 'exhibition-promo', exhibition %}
        </div>
      {% endfor %}
      {# <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">library promo</div>
      <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">reading room promo</div>
      <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">cafe and kitchen</div>
      <div class="{{ {s: 12, m: 6, l: 6, xl:6} | cssGridClasses }}">Shop</div> #}
    </div>
  </div>
{% endblock %}
